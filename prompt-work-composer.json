{
  "meta": {
    "name": "work-composer",
    "version": "v1.1.0",
    "updated": "2025-10-07T00:10:00+07:00",
    "author": "L. Mira"
  },
  "model": "gpt-5-mini",               
  "image_model": null,                 
  "use_poster": true,

  "routing": {
    "prompt_models": {
      "prompt1":  "gpt-5-nano",
      "prompt2":  "gpt-5-mini",
      "prompt3":  "gpt-5-mini",
      "prompt4":  "gpt-5-nano",
      "prompt5":  "gpt-5-nano",
      "prompt6":  "gpt-5-nano",
      "prompt7":  "gpt-5-nano",
      "prompt8":  "gpt-5-nano",
      "prompt9":  "gpt-5-nano",
      "prompt10": "gpt-5-nano"
    },
    "fallback_order": ["gpt-5-mini", "gpt-5-nano"],  
    "timeouts_ms": { "default": 20000, "long": 30000 }
  },

  "gen_params": {
    "default":   { "temperature": 0.3, "top_p": 0.9, "max_output_tokens": 1200 },
    "html_heavy":{ "temperature": 0.2, "top_p": 0.9, "max_output_tokens": 2000 }, 
    "poster":    { "temperature": 0.35,"top_p": 0.9, "max_output_tokens": 800 }    
  },

  "prompt": "STYLE (global): ภาษาไทยสุภาพ อ่านง่าย เรียบ สะอาด เหมาะกับพนักงานโรงงาน • หลีกเลี่ยงอีโมจิ/สัญลักษณ์เกินจำเป็น • ใช้หน่วยไทย • ชื่อขั้นตอนสั้น ชัด • ถ้าไม่แน่ใจให้เว้นว่างแทนการเดา • ห้ามใส่อะไรนอกเหนือจากรูปแบบเอาต์พุตที่กำหนด (JSON/สตริง) • ถ้าไม่สามารถทำตามรูปแบบ ให้ส่งค่าเว้นว่างตามสคีมาแทน",

  "prompts": {
    "prompt1": "role: ผู้ช่วยจัดเรียงข้อมูล | goal: รวม/จัดลำดับ items ให้เป็นขั้นตอนเข้าใจง่าย | context: items จากฟอร์มอาจยาว/สั้น รูปมาก/น้อย ปะปนกัน | instruction: 1) รวมข้อความซ้ำหรือใกล้กัน 2) ตัดคำฟุ้ง/ซ้ำซ้อน 3) เรียงตามลำดับการทำงาน 4) ถ้าไม่มีรูปให้ตั้ง images=[] 5) จำกัด text ต่อขั้นตอน ≤ 120 คำ 6) ห้ามสร้างข้อมูลเท็จ 7) จำนวนขั้นตอนไม่เกิน 20 | output_format: ส่งเป็น JSON เท่านั้น โดยโครงสร้าง: { \"items\": [{\"stepNo\":1, \"title\":\"…\", \"text\":\"…\", \"images\":[\"url1\", \"url2\"] }], \"caption\": \"<= 90 ตัวอักษร\" } | tone: เรียบง่ายและเป็นมิตร",

    "prompt2": "role: นักออกแบบรายงาน | goal: ผลิต pagesHTML ขนาด A4 สำหรับพรีวิว/พิมพ์ | context: ระบบจะจัด margin เอง 1cm และมี CSS ภายใน | instruction: สร้าง HTML ที่ปลอดภัยและ semantic โดยใช้เฉพาะแท็ก <div><section><header><footer><h1><h2><h3><p><ul><li><figure><img><figcaption> • ห้ามใช้ <script>, inline style, on* attributes • ใส่เฉพาะ class เช่น a4-page, a4-section, a4-header, a4-footer • โครงสร้าง: 1) header ชื่อรายงาน+วันที่ 2) section ต่อขั้นตอน (หัวข้อ+ย่อหน้า+รูปถ้ามี) 3) footer ผู้บันทึก • ถ้าไม่มีรูป ให้ข้าม <img> | output_format: สตริง HTML เดียว (ไม่ห่อด้วย JSON) | note: ต้องส่งเป็นเอกสาร HTML เดียวที่ปลอดภัยเท่านั้น",
    
    "prompt3": "role: นักออกแบบโปสเตอร์ | goal: วาง posterSpec สำหรับ renderer | context: โพสต์ใช้โซเชียล แนว minimal/readable/negative space | instruction: สร้างสเปก 4:5 (1080x1350) รองรับ type: rect/text/image • เลี่ยงข้อความยาว • title ≤ 60 ตัวอักษร, subtitle/caption ≤ 90 • ถ้าไม่มีรูป ให้ละเว้น element image | output_format: JSON: { \"background\":\"#ffffff\", \"size\":{\"w\":1080,\"h\":1350}, \"elements\":[ {\"type\":\"rect\",\"x\":0,\"y\":0,\"w\":1080,\"h\":140,\"fill\":\"#111827\"}, {\"type\":\"text\",\"text\":\"หัวเรื่อง\",\"x\":36,\"y\":180,\"font\":\"bold 64px system-ui\",\"color\":\"#111827\",\"maxWidth\":1008,\"maxLines\":2} ] }",

    "prompt4": "role: ผู้ตรวจสอบข้อมูล | goal: ตรวจหาข้อมูลขาด/ข้อความซ้ำ/คำไม่เหมาะสม | instruction: ตรวจแต่ละขั้นตอนและภาพแนบ • ระบุปัญหาเฉพาะเจาะจง+ข้อเสนอแนะสั้น ๆ • ห้ามแก้คำในเนื้อหา ให้เพียงชี้จุด | output_format: JSON: { \"issues\": [ {\"step\":2, \"problem\":\"ไม่มีภาพ\", \"suggestion\":\"เพิ่มภาพหลังประกอบเสร็จ\"} ] }",

    "prompt5": "role: ผู้ตรวจภาพ | goal: ประเมินคุณภาพรูป (เบลอ/มืด/ไม่เกี่ยวข้อง) | instruction: ให้คะแนน 1–5 และคอมเมนต์สั้น ๆ • ถ้า url ว่าง ให้ข้าม | output_format: JSON: { \"images\":[{\"url\":\"…\",\"score\":4,\"comment\":\"สว่างชัด\"}] }",

    "prompt6": "role: นักเขียนคำโปรย | goal: caption 1 บรรทัด | instruction: 40–80 คำ โทนบวก อ่านง่าย • ห้ามอีโมจิ/แฮชแท็ก | output_format: สตริงบรรทัดเดียว",

    "prompt7": "role: ผู้ช่วยจัดรูปแบบ | goal: แปลง Markdown → HTML ปลอดภัย | instruction: ใช้เฉพาะแท็กพื้นฐาน (<p><ul><li><strong><em><h1><h2><h3><code>) • ห้าม style/script/iframe • ห้ามลิงก์ภายนอกถ้าไม่ได้ให้มา | output_format: สตริง HTML",

    "prompt8": "role: บรรณาธิการภาษา | goal: แก้คำผิด/เว้นวรรค/แกรมม่า โดยไม่เปลี่ยนความหมาย | instruction: รักษาเทอมงานไม้ • ประโยคสั้น กระชับ • หลีกเลี่ยงคำฟุ่มเฟือย | output_format: สตริงข้อความที่ปรับแล้ว",

    "prompt9": "role: ที่ปรึกษาสไตล์ | goal: สรุป style guide สั้น ๆ สำหรับงานชิ้นนี้ | instruction: แนะนำ {colors 3–5, fonts 2 ระดับ, layout_notes 2–3 ข้อ} ให้เข้ากับ minimal/readable | output_format: JSON: { \"colors\":[\"#111827\",\"#F5F5F4\"], \"fonts\":{\"title\":\"system-ui bold\",\"body\":\"system-ui\"}, \"layout_notes\":[\"ใช้ negative space รอบภาพหลัก\",\"หัวเรื่องไม่เกิน 2 บรรทัด\"] }",

    "prompt10": "role: Art Director | goal: คำอธิบายแนวภาพรวมโปสเตอร์ | instruction: 2–3 ประโยค กระชับ • โฟกัสสมดุลช่องว่าง/ตัวอักษร/ภาพ • เลี่ยงศัพท์กำกวม | output_format: สตริงข้อความสั้น"
  },

  "default_chain": {
    "generate":    ["prompt1", "prompt2"],
    "save-draft":  ["prompt1", "prompt2", "prompt8"],
    "work-save":   ["prompt1", "prompt2", "prompt3", "prompt6"],
    "sop-publish": ["prompt1", "prompt2", "prompt4", "prompt8"],
    "review-only": ["prompt4", "prompt8"],
    "quick-social":["prompt1", "prompt6", "prompt3"]
  },

  "chain_params": {
    "prompt2": "html_heavy",
    "prompt3": "poster",
    "default": "default"
  }
}
